<ion-header>
    <ion-navbar color="primary" enable-menu-with-back-views="false">
        <!-- <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button> -->
        <ion-title>{{person.first_name}} {{person.last_name}}</ion-title>
        <ion-buttons end>

        </ion-buttons>
    </ion-navbar>

</ion-header>

<ion-content>
    <ion-card>


            <ion-item >     
        <img src="{{genimg(person.id)}}" onError="this.src='http://gazettereview.com/wp-content/uploads/2016/03/facebook-avatar.jpg'">
            </ion-item>
        <ion-item>
            <h1>{{person.first_name}} {{person.last_name}}</h1>
            <h2>{{getParty()}}</h2>
        </ion-item>


        <ion-row >
            <ion-col>
                <button (click)="openFb()" ion-button clear large>
                    <ion-icon name="logo-facebook"></ion-icon>
                    <div>&nbsp; Facebook</div>

                </button>
            </ion-col>
            <ion-col>
                <button (click)="openTwitter()" ion-button clear large>
                    <ion-icon name="logo-twitter"></ion-icon>
                    <div>&nbsp;Twitter</div>
                </button>
            </ion-col>

        </ion-row>

    </ion-card>
<h1 text-center>Bills sponsored by {{person.first_name}}</h1>
    <ion-list>

        <div *ngFor="let bill of bills">
        <ion-item-sliding >

            <ion-item (click)="pushMore(bill)">
                <h2 text-wrap>{{bill.short_title}}</h2>
                <p>Up: {{bill.vote_up}} Down: {{bill.vote_down}}</p>
            </ion-item>
            <ion-item-options side="right">
                <button (click)="upvote(bill)" ion-button color="primary">
                    <ion-icon name="ios-thumbs-up"></ion-icon>
                    &nbsp;Like&nbsp;
                </button>
                <button (click)="downvote(bill)" ion-button color="secondary">
                    <ion-icon name="ios-thumbs-down"></ion-icon>
                    Dislike
                </button>
                <button (click)="pushComment(bill)" ion-button color="danger">
                        <ion-icon name="ios-chatboxes"></ion-icon>
                        Comment
                    </button>
                    <!-- <button (click)="pushMore(bill)" ion-button color="primary">
                            <ion-icon name="ios-more"></ion-icon>
                            More
                        </button> -->
            </ion-item-options>
        </ion-item-sliding>
    </div>
    </ion-list>
    <br>
    <br>
    <h1 text-center>Contributions by Industry</h1>
    <h2 text-center>Total: ${{totalcontrib | number:'.2-2'}}</h2>
    <canvas baseChart
    [data]="doughnutChartData"
    [labels]="doughnutChartLabels"
    [chartType]="doughnutChartType"
    [options]="lineChartOptions"
    [legend]="barChartLegend"
    (click)="getParty()"
    ></canvas>
    <br>
    <br>
</ion-content>